import{p as V,a5 as X,Q as D,a6 as pe,a7 as fe,a8 as ge,a9 as ve,aa as he,ab as ze,ac as ye,ad as be,ae as Ee,af as we,M as Le,d as Ce,u as He,k as Ae,ag as Oe,ah as Se,ai as Te}from"./chunks/framework.98960eec.js";import{t as Y}from"./chunks/theme.3d37d251.js";/*! medium-zoom 1.0.8 | MIT License | https://github.com/francoischalifour/medium-zoom */var b=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var m in r)Object.prototype.hasOwnProperty.call(r,m)&&(n[m]=r[m])}return n},x=function(t){return t.tagName==="IMG"},xe=function(t){return NodeList.prototype.isPrototypeOf(t)},P=function(t){return t&&t.nodeType===1},Z=function(t){var r=t.currentSrc||t.src;return r.substr(-4).toLowerCase()===".svg"},W=function(t){try{return Array.isArray(t)?t.filter(x):xe(t)?[].slice.call(t).filter(x):P(t)?[t].filter(x):typeof t=="string"?[].slice.call(document.querySelectorAll(t)).filter(x):[]}catch{throw new TypeError(`The provided selector is invalid.
Expects a CSS selector, a Node element, a NodeList or an array.
See: https://github.com/francoischalifour/medium-zoom`)}},Pe=function(t){var r=document.createElement("div");return r.classList.add("medium-zoom-overlay"),r.style.background=t,r},Ie=function(t){var r=t.getBoundingClientRect(),m=r.top,f=r.left,I=r.width,N=r.height,h=t.cloneNode(),j=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,A=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return h.removeAttribute("id"),h.style.position="absolute",h.style.top=m+j+"px",h.style.left=f+A+"px",h.style.width=I+"px",h.style.height=N+"px",h.style.transform="",h},L=function(t,r){var m=b({bubbles:!1,cancelable:!1,detail:void 0},r);if(typeof window.CustomEvent=="function")return new CustomEvent(t,m);var f=document.createEvent("CustomEvent");return f.initCustomEvent(t,m.bubbles,m.cancelable,m.detail),f},Ne=function n(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=window.Promise||function(o){function a(){}o(a,a)},f=function(o){var a=o.target;if(a===S){z();return}g.indexOf(a)!==-1&&q({target:a})},I=function(){if(!(E||!e.original)){var o=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(B-o)>d.scrollOffset&&setTimeout(z,150)}},N=function(o){var a=o.key||o.keyCode;(a==="Escape"||a==="Esc"||a===27)&&z()},h=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=o;if(o.background&&(S.style.background=o.background),o.container&&o.container instanceof Object&&(a.container=b({},d.container,o.container)),o.template){var l=P(o.template)?o.template:document.querySelector(o.template);a.template=l}return d=b({},d,a),g.forEach(function(s){s.dispatchEvent(L("medium-zoom:update",{detail:{zoom:u}}))}),u},j=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return n(b({},d,o))},A=function(){for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];var s=a.reduce(function(i,p){return[].concat(i,W(p))},[]);return s.filter(function(i){return g.indexOf(i)===-1}).forEach(function(i){g.push(i),i.classList.add("medium-zoom-image")}),O.forEach(function(i){var p=i.type,v=i.listener,w=i.options;s.forEach(function(y){y.addEventListener(p,v,w)})}),u},G=function(){for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];e.zoomed&&z();var s=a.length>0?a.reduce(function(i,p){return[].concat(i,W(p))},[]):g;return s.forEach(function(i){i.classList.remove("medium-zoom-image"),i.dispatchEvent(L("medium-zoom:detach",{detail:{zoom:u}}))}),g=g.filter(function(i){return s.indexOf(i)===-1}),u},K=function(o,a){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return g.forEach(function(s){s.addEventListener("medium-zoom:"+o,a,l)}),O.push({type:"medium-zoom:"+o,listener:a,options:l}),u},Q=function(o,a){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return g.forEach(function(s){s.removeEventListener("medium-zoom:"+o,a,l)}),O=O.filter(function(s){return!(s.type==="medium-zoom:"+o&&s.listener.toString()===a.toString())}),u},F=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=o.target,l=function(){var i={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},p=void 0,v=void 0;if(d.container)if(d.container instanceof Object)i=b({},i,d.container),p=i.width-i.left-i.right-d.margin*2,v=i.height-i.top-i.bottom-d.margin*2;else{var w=P(d.container)?d.container:document.querySelector(d.container),y=w.getBoundingClientRect(),R=y.width,oe=y.height,ne=y.left,ae=y.top;i=b({},i,{width:R,height:oe,left:ne,top:ae})}p=p||i.width-d.margin*2,v=v||i.height-d.margin*2;var H=e.zoomedHd||e.original,re=Z(H)?p:H.naturalWidth||p,ie=Z(H)?v:H.naturalHeight||v,T=H.getBoundingClientRect(),de=T.top,me=T.left,_=T.width,k=T.height,le=Math.min(Math.max(_,re),p)/_,se=Math.min(Math.max(k,ie),v)/k,M=Math.min(le,se),ue=(-me+(p-_)/2+d.margin+i.left)/M,ce=(-de+(v-k)/2+d.margin+i.top)/M,U="scale("+M+") translate3d("+ue+"px, "+ce+"px, 0)";e.zoomed.style.transform=U,e.zoomedHd&&(e.zoomedHd.style.transform=U)};return new m(function(s){if(a&&g.indexOf(a)===-1){s(u);return}var i=function R(){E=!1,e.zoomed.removeEventListener("transitionend",R),e.original.dispatchEvent(L("medium-zoom:opened",{detail:{zoom:u}})),s(u)};if(e.zoomed){s(u);return}if(a)e.original=a;else if(g.length>0){var p=g;e.original=p[0]}else{s(u);return}if(e.original.dispatchEvent(L("medium-zoom:open",{detail:{zoom:u}})),B=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,E=!0,e.zoomed=Ie(e.original),document.body.appendChild(S),d.template){var v=P(d.template)?d.template:document.querySelector(d.template);e.template=document.createElement("div"),e.template.appendChild(v.content.cloneNode(!0)),document.body.appendChild(e.template)}if(e.original.parentElement&&e.original.parentElement.tagName==="PICTURE"&&e.original.currentSrc&&(e.zoomed.src=e.original.currentSrc),document.body.appendChild(e.zoomed),window.requestAnimationFrame(function(){document.body.classList.add("medium-zoom--opened")}),e.original.classList.add("medium-zoom-image--hidden"),e.zoomed.classList.add("medium-zoom-image--opened"),e.zoomed.addEventListener("click",z),e.zoomed.addEventListener("transitionend",i),e.original.getAttribute("data-zoom-src")){e.zoomedHd=e.zoomed.cloneNode(),e.zoomedHd.removeAttribute("srcset"),e.zoomedHd.removeAttribute("sizes"),e.zoomedHd.removeAttribute("loading"),e.zoomedHd.src=e.zoomed.getAttribute("data-zoom-src"),e.zoomedHd.onerror=function(){clearInterval(w),console.warn("Unable to reach the zoom image target "+e.zoomedHd.src),e.zoomedHd=null,l()};var w=setInterval(function(){e.zoomedHd.complete&&(clearInterval(w),e.zoomedHd.classList.add("medium-zoom-image--opened"),e.zoomedHd.addEventListener("click",z),document.body.appendChild(e.zoomedHd),l())},10)}else if(e.original.hasAttribute("srcset")){e.zoomedHd=e.zoomed.cloneNode(),e.zoomedHd.removeAttribute("sizes"),e.zoomedHd.removeAttribute("loading");var y=e.zoomedHd.addEventListener("load",function(){e.zoomedHd.removeEventListener("load",y),e.zoomedHd.classList.add("medium-zoom-image--opened"),e.zoomedHd.addEventListener("click",z),document.body.appendChild(e.zoomedHd),l()})}else l()})},z=function(){return new m(function(o){if(E||!e.original){o(u);return}var a=function l(){e.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(e.zoomed),e.zoomedHd&&document.body.removeChild(e.zoomedHd),document.body.removeChild(S),e.zoomed.classList.remove("medium-zoom-image--opened"),e.template&&document.body.removeChild(e.template),E=!1,e.zoomed.removeEventListener("transitionend",l),e.original.dispatchEvent(L("medium-zoom:closed",{detail:{zoom:u}})),e.original=null,e.zoomed=null,e.zoomedHd=null,e.template=null,o(u)};E=!0,document.body.classList.remove("medium-zoom--opened"),e.zoomed.style.transform="",e.zoomedHd&&(e.zoomedHd.style.transform=""),e.template&&(e.template.style.transition="opacity 150ms",e.template.style.opacity=0),e.original.dispatchEvent(L("medium-zoom:close",{detail:{zoom:u}})),e.zoomed.addEventListener("transitionend",a)})},q=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=o.target;return e.original?z():F({target:a})},J=function(){return d},ee=function(){return g},te=function(){return e.original},g=[],O=[],E=!1,B=0,d=r,e={original:null,zoomed:null,zoomedHd:null,template:null};Object.prototype.toString.call(t)==="[object Object]"?d=t:(t||typeof t=="string")&&A(t),d=b({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},d);var S=Pe(d.background);document.addEventListener("click",f),document.addEventListener("keyup",N),document.addEventListener("scroll",I),window.addEventListener("resize",z);var u={open:F,close:z,toggle:q,update:h,clone:j,attach:A,detach:G,on:K,off:Q,getOptions:J,getImages:ee,getZoomedImage:te};return u};function je(n,t){t===void 0&&(t={});var r=t.insertAt;if(!(!n||typeof document>"u")){var m=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&m.firstChild?m.insertBefore(f,m.firstChild):m.appendChild(f),f.styleSheet?f.styleSheet.cssText=n:f.appendChild(document.createTextNode(n))}}var Re=".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}";je(Re);const _e=Ne;const ke={...Y,setup(){V(()=>{_e("[data-zoomable]",{background:"var(--vp-c-bg)"})})},Layout:()=>X(Y.Layout,null,{}),enhanceApp({app:n,router:t,siteData:r}){}};function $(n){if(n.extends){const t=$(n.extends);return{...t,...n,async enhanceApp(r){t.enhanceApp&&await t.enhanceApp(r),n.enhanceApp&&await n.enhanceApp(r)}}}return n}const C=$(ke),Me=Ce({name:"VitePressApp",setup(){const{site:n}=He();return V(()=>{Ae(()=>{document.documentElement.lang=n.value.lang,document.documentElement.dir=n.value.dir})}),Oe(),Se(),Te(),C.setup&&C.setup(),()=>X(C.Layout)}});async function De(){const n=qe(),t=Fe();t.provide(fe,n);const r=ge(n.route);return t.provide(ve,r),t.component("Content",he),t.component("ClientOnly",ze),Object.defineProperties(t.config.globalProperties,{$frontmatter:{get(){return r.frontmatter.value}},$params:{get(){return r.page.value.params}}}),C.enhanceApp&&await C.enhanceApp({app:t,router:n,siteData:ye}),{app:t,router:n,data:r}}function Fe(){return be(Me)}function qe(){let n=D,t;return Ee(r=>{let m=we(r);return n&&(t=m),(n||t===m)&&(m=m.replace(/\.js$/,".lean.js")),D&&(n=!1),Le(()=>import(m),[])},C.NotFound)}D&&De().then(({app:n,router:t,data:r})=>{t.go().then(()=>{pe(t.route,r.site),n.mount("#app")})});export{De as createApp};
